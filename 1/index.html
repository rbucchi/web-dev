<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1">
    <link rel="stylesheet"
          href="css/step0.css">
    <!-- <link rel="stylesheet"
          href="css/step1.css"> -->
    <script src="js/step0.js"></script>
    <title>Web dev</title>
</head>

<body>
    <h1>Web dev - Beginner day</h1>
    <img src="https://thecodinglove.com/content/027/R34euYx.jpg"
         alt="web development"
         style="width: 25vw;">
    <aside class="sidebar-right">
        <nav>
            <h4>TOC</h4>
            <ol>
                <li><a href="#intro">Introduzione</a></li>
                <li><a href="#dev_path">Developer path</a></li>
                <li><a href="#how_web_works">How web works</a></li>
                <li><a href="#sw_di_base">Software di base</a>
                    <ul>
                        <li><a href="#developer_tools">Developer tools</a></li>
                    </ul>
                </li>
                <li><a href="#hands_on">Mini Hands on</a></li>
                <li><a href="#rfc7231">RFC7231</a>
                    <ul>
                        <li><a href="#url">URL</a></li>
                    </ul>
                    <ul>
                        <li><a href="#cookies">Cookies</a></li>
                    </ul>
                    <ul>
                        <li><a href="#http-methods">HTTP methods</a></li>
                    </ul>
                </li>
                <li><a href="#risorse_principali">Risorse principali</a></li>
            </ol>
        </nav>
    </aside>

    <main>
        <section id="intro">
            <h2>Intro</h2>
            <div class="presentation-card">
                <img id="img_me"
                     src="images/me.jpeg"
                     alt="Riccardo"
                     style="float: right; object-fit: contain;">
                <div>
                    <h5>Riccardo (Full stack Developer)</h5>
                    <p>riccardo_bucchi@iprel.it</p>
                </div>
            </div>
        </section>
        <section id="dev_path">
            <h2>Dev path</h2>
            <p>Source: <a href="https://github.com/kamranahmedse/developer-roadmap">developer-roadmap github</a></p>
            <img src="images/frontend_path.png"
                 alt="Frontend Developer path"
                 style="max-width: 80vw;">
        </section>
        <section id="how_web_works">
            <h2>How web works</h2>
            <p>Source: <a href="https://academind.com/tutorials/how-the-web-works/#how-websites-work">più o meno
                    come
                    funziona</a></p>
            <ol>
                <li>URL viene risolto</li>
                <li>la Request viene mandata al server</li>
                <li>la Response viene interpretata dal browser</li>
                <li>La pagina viene renderizzata</li>
            </ol>
            <img src="images/how-the-web-works-big-picture.png"
                 alt="Big picture">
            <p><b>1. URL risolto </b></p>
            <p>
                Il browser traduce l'indirizzo in una Request
            <pre>
                            Request URL: http://127.0.0.1:8080/
                            Request Method: GET
                            Status Code: 200 OK
                            Remote Address: 127.0.0.1:8080
                        </pre>
            </p>
            L'URL (Uniform Resource Locator) è modo in cui nel web viene identificata una risorsa (univoca). Le
            risorse
            sono
            pagine HTML, documenti CSS, script, immagini, ... .
            source: <a href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_is_a_URL">mozilla</a>,
            <a href="https://tools.ietf.org/html/rfc1738">RFC1738</a>
            <p><b> 2. Request mandata al server </b></p>
            <p>Via <a href="https://developer.mozilla.org/it/docs/Web/HTTP">Hypertext Transfer Protocol</a> che è un
                protocollo livello 7, stateless.</p>
            <p>Anatomia del protocollo è definita da <a href="https://tools.ietf.org/html/rfc7231">RFC7231</a></p>
            Richiesta + Headers
            <pre>
                        Request URL: http://127.0.0.1:8080/
                        Request Method: GET
                        Status Code: 200 OK
                        Remote Address: 127.0.0.1:8080
                        Accept:
                        text/html,...
                        Accept-Encoding: gzip, deflate, br
                        Accept-Language: en-US,en;q=0.9,it;q=0.8
                        Cache-Control: no-cache
                        Connection: keep-alive
                        Host: 127.0.0.1:8080
                        ...
                    </pre>
            <p><b> 3. Browser riceve la Response </b></p>
            <p>La response è composta da contenuto + headers</p>
            <pre>
                        &lt;!doctype html\&gt;
                        &lt;html lang="en"\&gt;
        
                        &lt;head&gt;
                            &lt;title&lt;Web dev&lt;/title&gt;
                        &lt;/head&gt;
                        &lt;body&gt;
                        ...
                        &lt;\body&gt;
                        HTTP/1.1 200 OK
                        cache-control: max-age=3600
                        last-modified: Tue, 20 Apr 2021 11:05:19 GMT
                        content-length: 3340
                        content-type: text/html; charset=UTF-8
                        Date: Tue, 20 Apr 2021 12:03:54 GMT
                        Connection: keep-alive
                        ...
                    </pre>
            <p><b> 4. Browser interpreta e renderizza </b></p>
            <p>Di fatto qui c'è il nostro "Run Time" che è implementato all'interno del browser e ha vari componenti
                che
                "disegnano" componenti ed eseguono codice (tutto in fila!).</p>
            <h3> Componenti principali Sito web</h3>
            <ul>
                <li> HTML (Hyper Text Markup Language) <b>WHAT</b>, non è un reale linguaggio di programmazione, è
                    un
                    linguaggio che "descrive la struttura del sito" (come anche Latex)</li>
                <li> CSS (Cascading Style Sheets) <b>HOW</b>, è il "come" i vari componenti dell'HTML devono essere
                    mostrati
                </li>
                <li> JS <b>HELL</b>, è il linguaggio di programmazione e in realtà viene usato per tutto (e anche
                    troppo).
                    Funzionalità/Comportamento.</li>
            </ul>
        </section>
        <section id="sw_di_base">
            <h2>SW di base</h2>
            <p>Gli strumenti che utilizzeremo nel corso sono l'Editor e i Browser. Tra parantesi ci sono alcuni
                degli
                strumenti che sono facoltativi.</p>
            <ul>
                <li>Editor (<a href="https://code.visualstudio.com/">VSCODE</a>)</li>
                <ul>
                    <li><a href="https://code.visualstudio.com/docs/languages/html">HTML</a>, CSS e JS con supporto
                        già
                        out-of-the-box</li>
                    <li>HTML già con enclosing tags, 'autocomplete', doc, validazione e strumenti vari</li>
                    <li>CSS idem, più visualizzazione hover</li>
                    <li>JS un po' più complesso, ha funzionalità basi, ma ne discuteremo in futuro. </li>
                    <li>Estensione Debugger for Chrome msjsdiag.debugger-for-chrome</li>
                    <li>di default ha anche <a href="https://docs.emmet.io/cheat-sheet/">Emmet</a></li>
                </ul>
                <li>Browser
                    <ul>
                        <li>Chrome (best overall)</li>
                        <li>Firefox (nice to have Edit and resend feature)</li>
                    </ul>
                <li>(versioning system) <a href="https://git-scm.com/">Git</a></li>
                <li>(image editor) Ovviamente sempre e solo Paint</li>
                <li>(web server)</li>
                <ul>
                    <li>
                        La maggior parte del tempo utilizzeremo l'accesso via fs, anche se sviluppiamo potrebbero
                        esserci
                        dei problemi, ad
                        esempio:
                        <ul>
                            <li>Restrizioni di sicurezza del browser (tipo fetch data)</li>
                            <li>Abbiamo bisogno di server-side code</li>
                        </ul>
                    </li>
                    <li>uno qualisasi
                        <ul>
                            <li><code>python -m http.server</code> (python3)</li>
                            <li>node <code>http-server [path] [options]</code></li>
                            <li>...</li>
                        </ul>
                    </li>
                </ul>
                </li>
            </ul>
            <p>Installazione di VSCODE e browser basta scaricare l'installer dal sito ed eventualmente installare
                l'estensione di VSCODE consigliata (Chrome Developer) dalla barra laterale delle estensioni.</p>
            <p>Nel caso voleste provare anche a far girare esempi e siti su un semplice webserver di sviluppo, oltre
                al
                banale comando di <code>python</code> riportato sopra, ecco gli step per farlo attraverso
                <code>node</code>:
            </p>
            <ul>
                <li><a href="https://nodejs.org/en/">download node</a> (LST o Current non importa)</li>
                <li>Aprite un terminale nella root path del sito da servire (per chi non è avvezzo al terminale
                    basta
                    digitare <code>cmd</code> nella barra del file explorer di windows)</il>
                <li><code>npm install -g http-server</code> (se non funziona bisogna settare la variabile
                    d'ambiente. Se
                    vi
                    dimenticate -g ve lo installa in ./node_modules/http-server)</li>
                <li><code>http-server</code></li>
                <li>alla fine dei test lo potete rimuovere con <code>npm remove -g http-server --force</code></li>
            </ul>
            <h3 id="developer_tools">Developer tools (aka F12 nel Browser)</h3>
            <a href="https://developer.chrome.com/docs/devtools/">Documentazione</a>
            <h4>Console</h4>
            <ul>
                <li>Console per loggare e debuggare</li>
                <li>Interprete JS, qui vive <code>window</code> (che molto in breve è l'oggetto 'environment') e ci
                    è
                    possibile eseguire del codice. Molto utile per debug, test o script veloci</li>
            </ul>
            <h4>Sources</h4>
            <p>
                Primo debugger, ci permette di debuggare tutto il <code>js</code> caricato. Breakpoint, watch,
                scope,
                call
                stack, ecc... .
            </p>
            <h4>Network</h4>
            <ul>
                <li>analisi traffico (dati, stati, parallelismo, cache, ...)</li>
                <li>analisi Request & Response, Headers</li>
                <li>Edit and Resend (meglio in Firefox)</li>
            </ul>
            <h4>Application</h4>
            <p>
                Tab contenente lo <i>storage</i> del sito e alcuni concetti in generale un po' più moderni o
                avanzati
                che
                non
                affronteremo in completo.
                Utilizzeremo comunque per accedere a Local, Session e Cookie Storage.
            </p>
            <h4>Inspector (aka ctrl + shift + c)</h4>
            <p>
                Visualizzare il codice html e css selezionando il componente grafico rendererizzato dal browser. Ci
                permette
                di capire la struttura markup, capire quali css ci sono associati, il come viene disegnato e giocare
                con
                i
                suoi stili, attributi, ecc... .
            </p>
            <h4>Device toggle</h4>
            <p>Simula il comportamento da mobile, quindi utile per vedere la responsivness del sito (piccoli
                schermi,
                modalità landscape e portrait), ma anche il comportamento della rete (offline, accesso a dati
                limitato)
            </p>
        </section>
        <section id="hands_on">
            <h2>Hands on</h2>
            <h3>Presentation card</h3>
            Nella intro, utilizzare la classe <code>presentation-card</code> per giocare con lo stile.
            <h3>Sidebar</h3>
            <code>step0.css</code>, Esempio sidebar
            <h3>Header Numbering</h3>
            Abilitare lo style2.css
            <h3>Icone</h3>
            Mettiamo una normale icona <code>link</code> in testa al titolo:
            <ul>
                <li><a href="https://fontawesome.com">fontawesome</a></li>
                <li><a href="https://fontawesome.com/icons/link?style=solid">icona</a></li>
                <li><a href="https://it.wikipedia.org/wiki/Creative_Commons#Tipi_di_licenze">diritti</a></li>
                <li><a href="https://creativecommons.org/use-remix/attribution/">Come dare l'attribuzione a CC</a>
                </li>
                <li>
                    <pre>&lt;a href="#intro"&gt;&lt;img class="link-icon"
                         src="images/link-solid.svg"&gt;&lt;/a></pre>
                </li>
            </ul>
            <h3>Analisi CSSZenGarden</h3>
            <a href="http://www.csszengarden.com/">http://www.csszengarden.com/</a>
            <h3>Edit and Resend</h3>
            GET, PUT example via <a href="https://reqres.in/">https://reqres.in/</a>
            <!-- <h3>Webslides</h3>
            Trasformiamo il sito in slide per la presentazione: <a
               href="https://github.com/webslides/webslides">https://github.com/webslides/webslides</a> -->
        </section>
        <section id="risorse_principali">
            <h2>Risorse principali</h2>
            <ul>
                <li> https://www.w3schools.com/ </li>
                <li> https://developer.mozilla.org/en-US/docs </li>
                <li> https://caniuse.com/ </li>
            </ul>
        </section>
        <section id="rfc7231">
            <h2>RFC7231</h2>
            <p><b> TODO: Scegliere e argomentare: </b></p>
            protocollo HTTP, metodi/verbi, status code, Request&Response, storage (cookie, local, session), header,
            URI
            e
            querystring
            <h3 id="url">URL</h3>
            <img src="images/mdn-url-all.png">
            <h4> Schema</h4>
            <p>
                Indica il protocollo, normalmente è <code>http, https, mailto, file, ftp</code>
            </p>
            <h4> Authority </h4>
            <p>
                Domain name + port (se non è quella di default, ovvero 80 per http e 443 per https)
            </p>
            <h4> Path </h4>
            <p>
                Siamo già 'dentro' il server e indica al suo interno dove si trova la risorsa. Può indicare anche
                fisicamente il path di dove si trova, ma tipicamente è solo un'astrazione (speriamo).
            </p>
            <h4> Parameters </h4>
            <p>
                <code>https://www.google.com/search?q=google</code> serve per dare indicazioni al web server aggiuntive
                oltre alla Risorsa richiesta, normalmente per comporre query, paginazioni o per qualsiasi logica
                back.
                Più che una specifica web, il parametro è una caratteristica del web server, quindi possono esserci
                delle differenze nella gestione dipendentemente dalle tecnologie utilizzate.
            </p>
            <p>
                La sintassi è <code>?[key1]=[value1]&[key2]=[value2]</code>, ecco alcuni esempi:
            <ul>
                <li><b>Tracking:</b> <code>?sessionid=123</code> </li>
                <li><b>Order, filter, paging:</b> <code>?page=1&sort=asc&price-range=10-100</code></li>
                <li><b>Search:</b> <code>?q=allowed+character+query+parameters</code></li>
                <li>...</li>
            </ul>
            <a href="http://tools.ietf.org/html/rfc3986">RFC 3986 - Uniform Resource Identifier (URI): Generic
                Syntax</a>
            <ul>
                <li>Unreserved: ALPHA / DIGIT / "-" / "." / "_" / "~" / </li>
                <li>PERCENT-ENCODED (aka %20 come spazio o %22 come doublequotes)</li>
                <li>Sub-delimeters: "!" / "$" / "&" / "'" / "(" / ")" / "*" / "+" / "," / ";" / "="</li>
                <li>":" / "@" / "/" / "?"</li>
            </ul>
            <p>Esempio: https://reqres.in/ e <code>js/queryparams.js</code>. Apri la console e verifica
                i due comportamenti</p>
            1) <div>
                <input type="number"
                       step="1"
                       value="0"
                       id="counter1">
                <button onclick="getReqResByInput()">Call Id by input</button>
            </div>
            2) <div>Scrivi il parameto <code>id</code> e verifica l'output <button
                        onclick="getReqResByQueryParams()">Call Id by input</button></div>

            </p>
            <h4> Anchor </h4>
            <p>Corrisponde ad una parte del documento individuato. <i>Non è mai mandato al server nella request</i>,
                viene utilizzato per la navigazione in pagina.</p>
            <p>Non ricarica la pagina, ma partecipa alla navigation history</p>
           <h3 id="http-methods">HTTP request methods (verbs)</h3>
            <p>HTTP definisce una serie di metodi di richiesta per indicare l'azione desiderata da eseguire per una data
                risorsa.</p>
            <p>Ognuno di loro implementa una semantica diversa, ma alcune caratteristiche comuni sono condivise da un
                gruppo di loro: ad es. un metodo di richiesta può essere sicuro, idempotente o memorizzabile nella
                cache.</p>
            <ul>
                <li>GET</li>
                <li>HEAD</li>
                <li>POST</li>
                <li>PUT</li>
                <li>DELETE</li>
                <li>CONNECT (per autenticazioni, handshake su SSL)</li>
                <li>OPTIONS (tipicamente per verificare le capacità del server o analizzare CORS)</li>
                <li>TRACE</li>
                <li>PATCH (una sorta di PUT in cui non viene messo tutto il corpo)</li>
            </ul>
            <div>
                <p><b>SICURO:</b> un metodo è considerato sicuro vuol dire che non può modificare lo stato del server
                    (read-only). I metodi safe
                    sono tipicamente GET, HEAD e OPTIONS. Tutti i metodi safe sono anche idempotenti, ma non vice versa.
                </p>
                <p><b>IDEMPOTENTE:</b> ad una richiesta identica corrisponde la stessa risposta anche se effettuata più
                    di
                    una volta, non avendo side-effect. Anche qui può dipendere dall'implementazione, ma generalmente
                    sono
                    considerate idempotenti le operazioni Sicure, inoltre la DELETE e la PUT, mentre la POST è il
                    classico
                    esempio di operazione non idempotente.</p>
                <p>Per 'risposta identica' fa eccezione il codice ritorno del server, ad esempio una DELETE sulla stessa
                    risorsa ha lo stesso risultato, ma non lo stesso codice stato (prima 200, poi 404 tipicamente)</p>
                <p><b>CACHEABLE:</b> alcuni metodi possono essere cacheable come la GET, HEAD o POST, altri non possono
                    mai*
                    esserlo, ad esempio PUT e DELETE.</p>
                <p>Tuttavia esistono degli header HTTP che permettono di cambiare questo comportamento, tipicamente
                    quando
                    non si vuole che una chiamata sia cacheable si specifica <code>Cache-Control: no-cache</code>.</p>
                <p>Anche gli stati sono cacheable.</p>
            </div>
            <div>
                <p><b>Perché non fregarsene?</b></p>
                <p>1) Siamo in un sistema asincrono, sapere che una richiesta è idempotente vuol dire che il client può
                    implementare un retry senza controllare lo stato della risorsa, mentre nel caso di POST eventuali
                    timeout dovrebbero essere trattati con più cura. 2) pensate al seguente metodo:
                    <code>GET /blog/1234/delete HTTP/1.1</code> che è totalmente permesso: dai browser, CDN, reverse
                    proxies o LB può essere cached. Normalmente non ci sono grosse implicazioni, ma stare alle 'regole'
                    è poco costoso e previene comportamenti strani o workaround. </p>
            </div>

            <h5>GET</h5>
            <p>Il metodo GET richiede la rappresentazione di una risorsa specificata. Dovrebbe essere usata solo per
                richiedere data (senza includerli). Dipendentemente dalle implementazioni in realtà questi principi
                potrebbero essere violati, ma questo spesso ha delle controindicazioni, ad esempio esistono delle GET
                che contengono il Body, ma questo comportamento potrebbe non essere supportato da backend o anche
                semplicemente browsers</p>
            <p>Il metodo GET è quello più comune e dovrebbe essere utilizzato la maggior parte delle volte. Alcuni casi
                in cui viene 'abusato' e dovrebbero essere evitati sono 1) quando il programmatore vuole utilizzare il
                body e utilizza la POST, ma vuole comunque richiedere solo delle risorse (occhio alla cache, vincoli del
                webserver/proxy) oppure al contrario vengono utilizzate per operazioni non idempotenti (GET per
                operazioni che cambiano lo stato a back, non sono particolarmente problematiche, ma violano la semantica
                e gli standard).</p>
            <table>
                <tr>
                    <th> Request has body</th>
                    <th> Successful response has body </th>
                    <th> Safe </th>
                    <th> Idempotente </th>
                    <th> Cacheable </th>
                    <th> Permessa in HTML forms </th>
                </tr>
                <tr>
                    <td>no</td>
                    <td>yes</td>
                    <td>yes</td>
                    <td>yes</td>
                    <td>yes</td>
                    <td>yes</td>
                </tr>
            </table>
            <h5>HEAD</h5>
            <p>Identica alla GET, ma senza body nella risposta.</p>
            <table>
                <tr>
                    <th> Request has body</th>
                    <th> Successful response has body </th>
                    <th> Safe </th>
                    <th> Idempotente </th>
                    <th> Cacheable </th>
                    <th> Permessa in HTML forms </th>
                </tr>
                <tr>
                    <td>no</td>
                    <td>no</td>
                    <td>yes</td>
                    <td>yes</td>
                    <td>yes</td>
                    <td>no</td>
                </tr>
            </table>
            <h5>POST</h5>
            <p>È il metodo più 'potente', tipicamente utilizzato per mandare dati via HTML form</p>
            <table>
                <tr>
                    <th> Request has body</th>
                    <th> Successful response has body </th>
                    <th> Safe </th>
                    <th> Idempotente </th>
                    <th> Cacheable </th>
                    <th> Permessa in HTML forms </th>
                </tr>
                <tr>
                    <td>yes</td>
                    <td>yes</td>
                    <td>no</td>
                    <td>no</td>
                    <td>may if specified</td>
                    <td>yes</td>
                </tr>
            </table>
            <h5>PUT</h5>
            <p>Utilizzato per cambiare le risorse a back.</p>
            <table>
                <tr>
                    <th> Request has body</th>
                    <th> Successful response has body </th>
                    <th> Safe </th>
                    <th> Idempotente </th>
                    <th> Cacheable </th>
                    <th> Permessa in HTML forms </th>
                </tr>
                <tr>
                    <td>yes</td>
                    <td>no</td>
                    <td>no</td>
                    <td>yes</td>
                    <td>no</td>
                    <td>no</td>
                </tr>
            </table>
            <h5>DELETE</h5>
            <p>Per cancellare le risorse.</p>
            <table>
                <tr>
                    <th> Request has body</th>
                    <th> Successful response has body </th>
                    <th> Safe </th>
                    <th> Idempotente </th>
                    <th> Cacheable </th>
                    <th> Permessa in HTML forms </th>
                </tr>
                <tr>
                    <td>may</td>
                    <td>may</td>
                    <td>no</td>
                    <td>yes</td>
                    <td>no</td>
                    <td>no</td>
                </tr>
            </table>
            <h3 id="cookies">Cookies</h3>
            <img src="images/biscuits.PNG"
                 alt="Biscuits vs Cookies"
                 style="max-width: 80vw;">
        </section>
        <section id="risorse_principali">
            <h2>Risorse principali</h2>
            <ul>
                <li> https://developer.mozilla.org/en-US/docs </li>
                <li> https://css-tricks.com/ </li>
                <li> https://caniuse.com/ </li>
                <li> https://www.w3schools.com/ </li>
            </ul>
        </section>
        <footer>
            <div>"<a rel="nofollow"
                   href="https://fontawesome.com/icons/link?style=solid">Link icon</a>" by <a rel="nofollow"
                   class="external text"
                   href="https://fontawesome.com/">fontawesome</a>, used under <a rel="nofollow"
                   class="external text"
                   href="https://creativecommons.org/licenses/by/2.0/">CC BY</a>"
            </div>
            <div>
                Webslides provided by <a href="https://github.com/webslides/webslides/">github</a>
            </div>
        </footer>
    </main>
</body>


<script src="js/queryparams.js"></script>

</html>