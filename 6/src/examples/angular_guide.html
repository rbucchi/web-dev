<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>HTML test page</title>
    <meta name="author"
          content="Riccardo">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <link href="../common/css/prism.css"
          rel="stylesheet" />
    <script src="../common/js/prism.js"></script>
    <link rel="stylesheet"
          href="../css/default.css">
</head>

<body>
    <h1>Angular Chat</h1>
    <p>Angular ha la propria <abbr title="Command Line Interface">CLI</abbr> per utilizzare gli strumenti che mette a
        disposizione e/o eseguire i task che normalmente sono necessari nel corso dello sviluppo web:</p>
    <ul>
        <li>build</li>
        <li>run</li>
        <li>test</li>
        <li>schematics (generazione codice automatica)
            <ul>
                <li>progetto</li>
                <li>componenti</li>
            </ul>
        <li>...</li>
        </li>
    </ul>
    <p>
        Installare l'angular cli e inizializzare il progetto:
    <pre><code>
corso_web\projects> npm install -g @angular/cli
corso_web\projects> ng new --defaults frontend
corso_web\projects> cd frontend
corso_web\projects/frontend> ng serve
        </code></pre>
    </p>
    <p>
        Potete avviare lo sviluppo da qualsiasi linea di comando e utilizzare qualsiasi istanza di <code>vscode</code>,
        ma per ordine vi consiglio di aprire un'istanza separata di <code>vscode</code> e utilizzare il terminale
        integrato. Per avviare il webserver di sviluppo:
    <pre><code>
Users\bucchric>cd workspace\corso_web\projects\frontend
corso_web\projects\frontend> ng serve
        </code></pre>
    </p>
    <hr>
    <h2>Composizione progetto</h2>
    <p>Il progetto è così composto:
    <pre class="bash"><code>
C:\Users\bucchric\workspace\corso_web\projects\frontend>tree -L 1
.
├── e2e                 # progetto end-to-end testing
├── node_modules        # librerie javascript
├── src                 # applicazione (sorgenti)
├── .browserslistrc     # lista compatibilità browser (metadati)
├── .editorconfig       # regole di formattazione
├── .gitignore          # inizializzazione con git, .gitignore preimpostato
├── <b>angular.json        # impostazioni di progetto, come compilazioni, riferimenti a file (.sln)</b>
├── karma.conf.js       # configurazione unit test
├── package-lock.json   # dipendenze specifiche alle build. Ogni installazione è uguale alle altre
├── <b>package.json        # dipendenze del progetto. Ogni installazione può variare di qualche versione (dipendentemente da quanto specificato)</b>
├── README.md           
├── tsconfig.app.json   # impostazioni TypeScript (più estensioni)
├── tsconfig.json
├── tsconfig.spec.json
└── tslint.json         # regole di formattazione (come .editorconfig), specifiche di Typescript

3 directories, 9 files
        </code></pre>

    </p>
    <p>
        Mentre l'applicazione:
    <pre class="bash"><code>
C:\Users\bucchric\workspace\corso_web\projects\frontend\src>tree -L 2
.
├── app
│   ├── app.component.ts        # 1) Componente
│   ├── app.component.html      # 2) Template
│   ├── app.component.css       # 3) regole css del componente
│   ├── app.component.spec.ts   # 4) Unit Test componente
│   └── app.module.ts
├── assets                      # file statici, tipicamente immagini
├── environments                # file di configurazione di environment, iniettati durante la compilazione (prod/dev o altro)
│   ├── environment.prod.ts
│   └── environment.ts
├── favicon.ico
├── index.html                  # entry point html del sito, difficilmente modificato se non nelle impostazioni inziali (metadati, titolo)
├── main.ts                     # entry point ts, anche questo difficilmente da modificare. Serve per fare il bootstrap del modulo "Root"
├── polyfills.ts                # compatibilità tra browser. È possibile inserire implementazioni al volo (ad esempio: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/entries)
├── styles.css                  # css globale
└── test.ts

3 directories, 13 files
        </code></pre>
    </p>
</body>
<hr>
<h2>Componenti</h2>

<p>
    Creazione del componente <code>chat</code>:
</p>
<pre><code>
BucchRic@IPR-SUP39 projects/frontend (master)$ ng generate component components/chat
CREATE src/app/components/chat/chat.component.html (19 bytes)
CREATE src/app/components/chat/chat.component.spec.ts (612 bytes)
CREATE src/app/components/chat/chat.component.ts (267 bytes)
CREATE src/app/components/chat/chat.component.css (0 bytes)
UPDATE src/app/app.module.ts (399 bytes)
</code></pre>
<p>
    Utilizzare la CLI non è assolutamente obbligatorio, però permette di utilizzare gli <code>schematics</code> che
    vanno a precompilare il codice. In questo caso non solo ha creato Component, Template, test e css, ma <i>ha
        associato il componente al Modulo</i>.
</p>
<p> Per <b>utilizzare</b> il componente ci sono due modi:
<ol>
    <li>via selector (<code>app-chat</code>)</li>
    <li>via routing (vedremo), ovvero esiste un tag <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> 'placeholder', nel quale si gestisce l'istanziazione del componente dipendentemente dall'URL</li>
</ol>
</p>

</html>